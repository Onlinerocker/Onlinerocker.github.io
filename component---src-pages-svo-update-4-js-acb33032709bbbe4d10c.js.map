{"version":3,"sources":["webpack:///./src/components/real_navbar.js","webpack:///./node_modules/react-bootstrap/esm/Image.js","webpack:///./node_modules/react-bootstrap/esm/divWithClassName.js","webpack:///./node_modules/react-bootstrap/esm/CardImg.js","webpack:///./node_modules/react-bootstrap/esm/Card.js","webpack:///./src/pages/svo_update4.js"],"names":["RealNavbar","props","items","links","Image","string","bool","forwardRef","_ref","ref","bsPrefix","className","fluid","rounded","roundedCircle","thumbnail","classes","createElement","displayName","defaultProps","p","CardImg","variant","_ref$as","as","Component","prefix","DivStyledAsH5","divWithClassName","DivStyledAsH6","CardBody","createWithBsPrefix","CardTitle","CardSubtitle","CardLink","CardText","CardHeader","CardFooter","CardImgOverlay","Card","bg","text","border","body","children","cardContext","cardHeaderBsPrefix","CardContext","Provider","value","Img","Title","Subtitle","Body","Link","Text","Header","Footer","ImgOverlay","SVO_Update1","rel","href","integrity","crossorigin","style","maxWidth","background","fontFamily","color","padding","width","height","src","title","frameborder","allow","allowfullscreen","paddingRight"],"mappings":"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","file":"component---src-pages-svo-update-4-js-acb33032709bbbe4d10c.js","sourcesContent":["import React from \"react\"\r\nimport Navbar from \"../components/navbar\"\r\n\r\nexport default function RealNavbar(props){\r\n    return (    \r\n        <Navbar items={['Projects', 'Resume', 'Blog', 'About']} links={['/', '/resume', '/blog', '/about']} />\r\n    )\r\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { useBootstrapPrefix } from './ThemeProvider';\nexport var propTypes = {\n  /**\n   * @default 'img'\n   */\n  bsPrefix: PropTypes.string,\n\n  /**\n   * Sets image as fluid image.\n   */\n  fluid: PropTypes.bool,\n\n  /**\n   * Sets image shape as rounded.\n   */\n  rounded: PropTypes.bool,\n\n  /**\n   * Sets image shape as circle.\n   */\n  roundedCircle: PropTypes.bool,\n\n  /**\n   * Sets image shape as thumbnail.\n   */\n  thumbnail: PropTypes.bool\n};\nvar defaultProps = {\n  fluid: false,\n  rounded: false,\n  roundedCircle: false,\n  thumbnail: false\n};\nvar Image = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      fluid = _ref.fluid,\n      rounded = _ref.rounded,\n      roundedCircle = _ref.roundedCircle,\n      thumbnail = _ref.thumbnail,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"fluid\", \"rounded\", \"roundedCircle\", \"thumbnail\"]);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'img');\n  var classes = classNames(fluid && bsPrefix + \"-fluid\", rounded && \"rounded\", roundedCircle && \"rounded-circle\", thumbnail && bsPrefix + \"-thumbnail\");\n  return /*#__PURE__*/React.createElement(\"img\", _extends({\n    // eslint-disable-line jsx-a11y/alt-text\n    ref: ref\n  }, props, {\n    className: classNames(className, classes)\n  }));\n});\nImage.displayName = 'Image';\nImage.defaultProps = defaultProps;\nexport default Image;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport classNames from 'classnames';\nexport default (function (className) {\n  return React.forwardRef(function (p, ref) {\n    return /*#__PURE__*/React.createElement(\"div\", _extends({}, p, {\n      ref: ref,\n      className: classNames(p.className, className)\n    }));\n  });\n});","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar defaultProps = {\n  variant: null\n};\nvar CardImg = React.forwardRef( // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\nfunction (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      variant = _ref.variant,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'img' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"variant\", \"as\"]);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'card-img');\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref,\n    className: classNames(variant ? prefix + \"-\" + variant : prefix, className)\n  }, props));\n});\nCardImg.displayName = 'CardImg';\nCardImg.defaultProps = defaultProps;\nexport default CardImg;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React, { useMemo } from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport createWithBsPrefix from './createWithBsPrefix';\nimport divWithClassName from './divWithClassName';\nimport CardContext from './CardContext';\nimport CardImg from './CardImg';\nvar DivStyledAsH5 = divWithClassName('h5');\nvar DivStyledAsH6 = divWithClassName('h6');\nvar CardBody = createWithBsPrefix('card-body');\nvar CardTitle = createWithBsPrefix('card-title', {\n  Component: DivStyledAsH5\n});\nvar CardSubtitle = createWithBsPrefix('card-subtitle', {\n  Component: DivStyledAsH6\n});\nvar CardLink = createWithBsPrefix('card-link', {\n  Component: 'a'\n});\nvar CardText = createWithBsPrefix('card-text', {\n  Component: 'p'\n});\nvar CardHeader = createWithBsPrefix('card-header');\nvar CardFooter = createWithBsPrefix('card-footer');\nvar CardImgOverlay = createWithBsPrefix('card-img-overlay');\nvar defaultProps = {\n  body: false\n};\nvar Card = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      bg = _ref.bg,\n      text = _ref.text,\n      border = _ref.border,\n      body = _ref.body,\n      children = _ref.children,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"bg\", \"text\", \"border\", \"body\", \"children\", \"as\"]);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'card');\n  var cardContext = useMemo(function () {\n    return {\n      cardHeaderBsPrefix: prefix + \"-header\"\n    };\n  }, [prefix]);\n  return /*#__PURE__*/React.createElement(CardContext.Provider, {\n    value: cardContext\n  }, /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, prefix, bg && \"bg-\" + bg, text && \"text-\" + text, border && \"border-\" + border)\n  }), body ?\n  /*#__PURE__*/\n  // @ts-ignore\n  React.createElement(CardBody, null, children) : children));\n});\nCard.displayName = 'Card';\nCard.defaultProps = defaultProps;\nCard.Img = CardImg;\nCard.Title = CardTitle;\nCard.Subtitle = CardSubtitle;\nCard.Body = CardBody;\nCard.Link = CardLink;\nCard.Text = CardText;\nCard.Header = CardHeader;\nCard.Footer = CardFooter;\nCard.ImgOverlay = CardImgOverlay;\nexport default Card;","import React from \"react\"\r\n\r\nimport Container from 'react-bootstrap/Container'\r\nimport Card from \"react-bootstrap/Card\"\r\nimport RealNavbar from \"../components/real_navbar\"\r\nimport Image from \"react-bootstrap/Image\"\r\n\r\nexport default function SVO_Update1() {\r\n    \r\n    return (\r\n    <div>\r\n      <link\r\n        rel=\"stylesheet\"\r\n        href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css\"\r\n        integrity=\"sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk\"\r\n        crossorigin=\"anonymous\"\r\n      />\r\n\r\n        <RealNavbar/>  \r\n        <Container fluid>\r\n        <br/>\r\n        <Card style={{maxWidth: '1200px'}}>\r\n            \r\n            <Card.Header style={{background: \"#EEEEEE\"}}>7/9/2022</Card.Header>    \r\n            <Card.Body>\r\n            <Card.Title><h2>SVO Ray Tracer Update #4 - Adding/Removing Voxels, Octree Visualization</h2></Card.Title>\r\n\r\n            <a href=\"https://github.com/Onlinerocker/SVO\">Project's GitHub Repo</a>\r\n\r\n            <br/><br/>\r\n\r\n            <Card.Title>Porting Ray Trace Function To CPU</Card.Title>\r\n            In order to support voxel modification, the program needed a way to determine which block you were looking at. The most obvious way to determine this would be to use the same ray trace function we use to render: shoot a ray in the forward direction of the camera and return which voxel you hit first.\r\n            <br/><br/>\r\n            I decided this would be best done on the CPU. I wasn’t aware of any way to make persistent changes to GPU memory from within a pixel shader, and processing input in a pixel shader seemed silly when that processing would take place for every pixel. This meant I needed to port my ray trace code to the CPU. Taking advantage of the using keyword, I was able to greatly reduce the amount of modifications I needed to make to the code:\r\n            <br/><br/>\r\n            <Card.Text style={{fontFamily: 'monospace', color: 'white', background: '#333333', padding: '10px'}}>\r\n            using float3 = glm::vec3<br/>\r\n            using float2 = glm::vec2<br/>\r\n            using uint = uint32_t<br/>\r\n            etc…<br/>\r\n            </Card.Text>\r\n            <br/>\r\n            Most of the modifications I made when porting my ray trace function and helper functions was replacing the swivels with glm::vec constructions.\r\n            <br/><br/>\r\n            <Card.Title>Adding/Removing Voxels</Card.Title>\r\n            After porting the ray trace function to the CPU, adding and removing voxels was relatively simple. I just flip the bit corresponding to the given voxel to one or zero respectively. The trickier part is recursing up the octree and marking parents as valid or not. When a parent becomes empty after removal, the containing parent needs to mark its child as invalid (empty). Likewise, when we add a voxel to an empty parent, the containing parent needs to mark its child as valid. This process needs to continue until each node is marked invalid or valid in the path we traveled to the voxel. \r\n            <br/><br/>\r\n            Since my traversal algorithm caches a stack in order to move up and down the octree, I simply return this stack when a leaf node is hit. When a leaf node is modified the stack is then used to update its parent nodes as needed.\r\n            <br/><br/>\r\n            <iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/N8Q2mEdpiHo\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\r\n            <br/><i>Demo of adding/removing voxels</i>\r\n\r\n            <br/><br/>\r\n            <Card.Title>Subresource vs. Memory Mapping</Card.Title>\r\n            Before adding the ability to add and remove voxels I was using Map, Unmap, and Memcpy upload the voxel data to the GPU. Map requires you to pass D3D11_MAP_WRITE_DISCARD or D3D11_MAP_WRITE_NO_OVERWRITE as CPUUsageFlags. We need to update the data occasionally so “no overwrite” clearly isn't want we want. Write discard, however, forces you to completely clear and reupload the buffer in its entirety. This was not going to work for my purposes since the voxel data buffer was/is very large; the upload time was too slow to do in less than a frame. What I really needed was the ability to only modify a small portion of the buffer.\r\n            <br/><br/>\r\n            Rather than using map/unmap, UpdateSubresource allows us to use the D3D11_MAP_WRITE as CPUUsageFlags. Changing to this function and CPU usage flag gave me the ability to only update a small portion of the buffer on modification, which was exactly what I needed!\r\n            <br/><br/>\r\n\r\n            <Card.Title>Octree Visualization</Card.Title>\r\n            For debugging and demonstration purposes I added a debug rendering mode to visualize the octree. It works by checking if the rays intersection point is within some distance of the border. If it is, we return a bright yellow color. If it hits a leaf node, we return the given node’s color. If it hits nothing, we return black.\r\n            <br/><br/>\r\n            <Image src=\"../octree_screen.png\" style={{width: \"50%\", maxWidth: \"900px\", paddingRight: \"19px\"}}/> \r\n\r\n            </Card.Body>\r\n\r\n        </Card>\r\n        </Container>\r\n\r\n      <br/>\r\n    </div>\r\n  )\r\n}\r\n"],"sourceRoot":""}